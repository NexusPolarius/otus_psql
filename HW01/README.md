# Работа с уровнями изоляции транзакции в PostgreSQL

1. Вопрос:
   
> начать новую транзакцию в обоих сессиях с дефолтным (не меняя) уровнем изоляции
> в первой сессии добавить новую запись insert into persons(first_name, second_name) values('sergey', 'sergeev');
> сделать select from persons во второй сессии
> видите ли вы новую запись и если да то почему?

Во второй сессии новую запись не вижу так как установлен уровень изоляции "read committed". Это означает что запрос SELECT видит только данные, зафиксированные до начала запроса.

2. Вопрос:

> завершить первую транзакцию - commit;
> сделать select from persons во второй сессии
> видите ли вы новую запись и если да то почему?

Теперь новую запись вижу так как зафиксировали изменения в первой сессии.

3. Вопрос:

> начать новые но уже repeatable read транзации - set transaction isolation level repeatable read;
> в первой сессии добавить новую запись insert into persons(first_name, second_name) values('sveta', 'svetova');
> сделать select* from persons во второй сессии*
> видите ли вы новую запись и если да то почему?

Новую запись во второй сессии не вижу так как начата транзакция с уровнем изоляции "repeatable read". Это означает что все операторы текущей транзакции видят только те строки, которые были зафиксированы перед первым запросом на выборку или изменение данных, выполненным в этой транзакции.

4. Вопрос:

> завершить первую транзакцию - commit;
> сделать select from persons во второй сессии
> видите ли вы новую запись и если да то почему?

Новую запись из первой сессии все еще не вижу так как во второй сессии транзакция еще не завершина.

5. Вопрос:

> завершить вторую транзакцию
> сделать select * from persons во второй сессии
> видите ли вы новую запись и если да то почему?

Теперь запись из первой сессии вижу так как транзакция во второй сесси завершилась.
